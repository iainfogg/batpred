<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>FAQ - Predbat Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "FAQ";
        var mkdocs_page_input_path = "faq.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Predbat Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../operation/">Operation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../step-by-step-guide/">Step by step guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../install/">Install</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../energy-rates/">Energy rates</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../car-charge-planning/">Car charging planning</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../config-yml-settings/">config.yml settings</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../configuration-guide/">Configuration guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../video-guides/">Video Guides</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">FAQ</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#ive-installed-batpred-but-i-dont-see-the-correct-entities">I've installed Batpred but I don't see the correct entities:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#why-is-my-predicted-charge-higher-or-lower-than-i-might-expect">Why is my predicted charge % higher or lower than I might expect?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#why-didnt-the-slot-actually-get-configured">Why didn't the slot actually get configured?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-charge-limit-keeps-increasingdecreasing-in-the-charge-window-or-is-unstable">The charge limit keeps increasing/decreasing in the charge window or is unstable</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#i-changed-a-config-item-but-it-made-no-difference">I changed a config item but it made no difference?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#its-all-running-but-im-not-getting-very-good-results">It's all running but I'm not getting very good results</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../customisation/">Customisation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../output-data/">Output data</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../creating-charts/">Creating the charts</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../predbat-plan-card/">Predbat Plan card</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../todo-list/">Todo list</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Predbat Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">FAQ</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="faq">FAQ</h1>
<h2 id="ive-installed-batpred-but-i-dont-see-the-correct-entities">I've installed Batpred but I don't see the correct entities:</h2>
<ul>
<li>First look at AppDaemon.log (can be found in the list of log files in the System/Log area of the GUI). See if any errors are warnings are found. If you see an error it's likely something is configured wrongly, check your entity settings are correct.</li>
<li>Make sure Solcast is installed and it's auto-updated at least a couple of times a day (see the Solcast instructions). The default solcast sensor names maybe wrong, you might need to update the apps.yml config to match your own names (some people don't have the solcast_ bit in their names)</li>
</ul>
<h2 id="why-is-my-predicted-charge-higher-or-lower-than-i-might-expect">Why is my predicted charge % higher or lower than I might expect?</h2>
<ul>
<li>Batpred is based on costing, so it will try to save you money. If you have the PV 10% option enabled it will also take into account the more worse case scenario and how often it might happen, so if the forecast is a bit unreliable it's better to charge more and not risk getting stung importing.</li>
<li>Have you checked your energy rates for import and export are correct, maybe check the rates graph and confirm. If you do something like have export&gt;import then Batpred will try to export as much as possible.</li>
<li>Have you tuned Solcast to match your output accurately?</li>
<li>Have you tuned the <strong>metric_min_improvement</strong>, <strong>best_soc_min</strong> and <strong>best_soc_keep settings</strong>?</li>
<li>Do you have predicted car charging during the time period?</li>
<li>You can also tune <strong>load_scaling</strong> and <strong>pv_scaling</strong> to adjust predictions up and down a bit</li>
<li>Maybe your historical data includes car charging, you might want to filter this out using car_charging_hold (see below)</li>
</ul>
<h2 id="why-didnt-the-slot-actually-get-configured">Why didn't the slot actually get configured?</h2>
<ul>
<li>make sure <strong>set_charge_window</strong> and <strong>set_soc_enable</strong> is turned on</li>
</ul>
<h2 id="the-charge-limit-keeps-increasingdecreasing-in-the-charge-window-or-is-unstable">The charge limit keeps increasing/decreasing in the charge window or is unstable</h2>
<ul>
<li>Check you don't have any other automations running that adjust GivTCP settings during this time. Some people had a script that changes the reserve %, this will cause problems - please disable other automations and retry.</li>
</ul>
<h2 id="i-changed-a-config-item-but-it-made-no-difference">I changed a config item but it made no difference?</h2>
<ul>
<li>If <strong>user_config_enable</strong> is True then many config items are now inside Home Assistant, in which case change it there instead.</li>
</ul>
<h2 id="its-all-running-but-im-not-getting-very-good-results">It's all running but I'm not getting very good results</h2>
<ul>
<li>You might want to tune <strong>best_soc_keep</strong> to set a minimum target battery level, e.g. I use 2.0 (for 2kWh, which is just over 20% on a 9.5kWh battery)</li>
<li>Have a read of the user configuration guide above depending on your tariff different settings maybe required</li>
<li>Check your solar production is well calibrated (you can compare solcast vs actually in home assistant energy tab or on the GivEnergy portal)</li>
<li>Make sure your inverter max AC rate has been set correctly</li>
<li>If you have an EV that you charge then you will want some sort of car charging sensor or use the basic car charging hold feature or your load predictions maybe unreliable</li>
<li>Do you have a solar diverter? If so maybe you want to try using the IBoost model settings.</li>
<li>Perhaps set up the calibration chart and let it run for 24 hours to see how things line up</li>
<li>If your export slots are too small compared to expected check your inverter_limit is set correctly (see below) </li>
</ul>
<p>If you are still having trouble feel free to raise a ticket for support to post on the <a href="https://www.facebook.com/groups/615579009972782">GivTCP Facebook group</a>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../video-guides/" class="btn btn-neutral float-left" title="Video Guides"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../customisation/" class="btn btn-neutral float-right" title="Customisation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../video-guides/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../customisation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
